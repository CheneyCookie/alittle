<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">
	
	window.onload = function() {
		var aNodes=document.getElementById("employeetable").getElementsByTagName("a");
		
		for(var i=0;i<aNodes.length;i++){
			aNodes[i].onclick=function(){
				
				var trNode=this.parentNode.parentNode;
				
				var textContent=trNode.getElementsByTagName("td")[0].firstChild.nodeValue;
				//alert(textContent);
				textContent=trim(textContent);
				var flag=confirm("确定要删除"+textContent+"的信息吗？");
				if(flag){
					trNode.parentNode.removeChild(trNode);
				}
				
				return false;
			}
		}
		
		var btn=document.getElementById("addEmpButton");
		btn.onclick=function(){
			var name=document.getElementById("name");
			var email=document.getElementById("email");
			var salary=document.getElementById("salary");
			
			var nameVal=name.value;
			var emailVal=email.value;
			var salaryVal=salary.value;
			
			nameVal=trim(nameVal)
			emailVal=trim(emailVal)
			salaryVal=trim(salaryVal)
			
			
			
			if(nameVal==""||emailVal==""||salaryVal==""){
				alert("请填写所有项");
				return false;
			}
			
			var trNode=document.createElement("tr");
			
			var nameTd=document.createElement("td");
			var emailTd=document.createElement("td");
			var salaryTd=document.createElement("td");
			var deleteTd=document.createElement("td");
			
			
			var nameContent=document.createTextNode(nameVal);
			var emailContent=document.createTextNode(emailVal);
			var salaryContent=document.createTextNode(salaryVal);
			var deleteContent=document.createTextNode("删除");
			
			
			var aNode=document.createElement("a");
			aNode.href="#";
			aNode.appendChild(deleteContent);
			
			aNode.onclick=function(){
				var flag=confirm("确定要删除"+this.firstChild.nodeValue+"的信息吗?");
				if(flag){
					var delTr=this.parentNode.parentNode;
					delTr.parentNode.removeChild(delTr);
				}

			}
			
			
			
			
			nameTd.appendChild(nameContent);
			emailTd.appendChild(emailContent);
			salaryTd.appendChild(salaryContent);
			deleteTd.appendChild(aNode);
			
			trNode.appendChild(nameTd);
			trNode.appendChild(emailTd);
			trNode.appendChild(salaryTd);
			trNode.appendChild(deleteTd);
			
			var tbody=document.getElementById("tableBody");
			
			tbody.appendChild(trNode);
			
			name.value="";
			email.value="";
			salary.value="";
		}
		
		function trim(str){
			var reg=/^\s*|\s*$/g;
			return str.replace(reg,"");
		}
	}
</script>
</head>
<body>
	<div>
		<div align="center">
			<p>添加员工</p>
			name:<input id="name" type="text"><br>
			email:<input id="email" type="text"><br>
			salary:<input id="salary" type="text"><br>
			<input id="addEmpButton" type="submit" value="添加">
		</div>
		<br><br>
		<hr>
		
		<div align="center">
			<table id="employeetable" border="1" cellpadding="5" cellspacing="0">
				<tbody id="tableBody">
					<tr>
						<th>Name</th>
						<th>Email</th>
						<th>Salary</th>
						<th></th>
					</tr>
					<tr>
						<td>cheney</td>
						<td>1124932314@qq.com</td>
						<td>6000</td>
						<td><a href="#">删除</a></td>
					</tr>
				</tbody>
			</table>
		
		</div>
	</div>
</body>
</html>